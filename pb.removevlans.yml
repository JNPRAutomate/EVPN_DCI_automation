---
 - name: remvoe vlans on QFX10k
   hosts: QFX10k
   connection: local
   gather_facts: no 
   tasks:
   - name: Backup locally the configuration. Render the template. Push the rendered template. Commit.
     junos_template:
      provider: "{{  credentials }}"
      src: "{{ playbook_dir }}/templates/10kremovevlans.j2"
      comment: "configuration from Ansible"
      backup: true 
      config_format: set

 - name: remove vlans on QFX5k
   hosts: QFX5k
   connection: local
   gather_facts: no
   tasks:
   - name: Backup locally the configuration. Render the template. Push the rendered template. Commit.
     junos_template:
      provider: "{{  credentials }}"
      src: "{{ playbook_dir }}/templates/5kremovevlans.j2"
      comment: "configuration from Ansible"
      backup: true
      config_format: set

